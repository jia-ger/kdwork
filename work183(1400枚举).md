https://codeforces.com/problemset/problem/1895/C

```c++
#include <bits/stdc++.h>
using namespace std;
#define itn int
#define icn cin
#define int long long
#define endl '\n'
typedef pair<int,int> PII;
const int N=2e5+10;
const int INF=1e18;
const int mod=1e9+7;
#define ll __int128

int n,s[200005],ans;
vector<int> ve[10][50];
void solve()
{
	cin>>n;
	for(int i=1;i<=n;i++){
		cin>>s[i];
		int now=0,aa=s[i],sum=0;
		while(aa){
			now++;
			sum+=aa%10;
			aa/=10;
		}
		ve[now][sum].emplace_back(s[i]);//将长度 求和 存起来 
	}
	ans=n;
	for(int i=2;i<=10;i+=2){//枚举拼接后的长度 
		int now=i/2;
		for(int j=now;j<i;j++){//枚举大于等于一半长度的 字符串 
			int k=i-j;
			for(int kk=0;kk<=45;kk++)for(int v:ve[j][kk]){
				int noww=0,aa=v,summ=0,sum2=0;
				while(noww<now){
					summ+=aa%10,noww++;
					aa/=10;
				}
				while(aa){
					sum2+=aa%10,aa/=10;
				}
				//summ是拼接后的字符串 一半的数字和 因为枚举的是长度大的多余部分要补给长度小的 
				ans+=ve[k][summ-sum2].size();
				if(j==now)ans--;
				if(j==now)continue; 
				noww=0,aa=v,summ=0,sum2=0;
				while(noww<j-now){
					sum2+=aa%10,noww++;
					aa/=10;
				}
				while(aa)summ+=aa%10,aa/=10;
				ans+=ve[k][summ-sum2].size();
			}
		}
	}
	cout<<ans;
}


signed main() 
{
	cin.tie(0)->sync_with_stdio(0);
	int T=1;
//	cin>>T;

	while(T--)solve();

	return 0;
}
```
