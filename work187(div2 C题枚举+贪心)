https://codeforces.com/contest/2156/problem/C

#include <bits/stdc++.h>
using namespace std;
#define itn int
#define icn cin
#define int long long
#define endl '\n'
typedef pair<int,int> PII;
const int N=1e4+10;
const int INF=1e18;
const int mod=1e9+7;
#define ll __int128



void solve()
{
	int n, k;
    cin >> n >> k;
    vector<int> a(n);
    vector<int> freq(n + 5, 0);
    for (int i = 0; i < n; i++) {
        cin >> a[i];
        freq[a[i]]++;
    }

    // 前缀和：prefix[x] 表示值 ≤ x 的数的个数
    vector<int> pre(n + 5, 0);
    for (int i = 1; i <= n + 2; i++) {
        pre[i] = pre[i - 1] + freq[i];
    }
   
    for (int d = n; d >= 1; d--) {
        int must_remove=0;
        if (d == 1) {
            must_remove = 0; 
        } else {
        
			int res=0;
			if(3*d<=n+2)res+=freq[3*d];
			if(2*d<=n+2)res+=freq[2*d];
			res+=freq[d];
			must_remove=pre[min(4*d-1,n+2)]-res;
			 
        }
        
    
        // 必须删除的数 ≤ k，且删除后至少剩一个数
        if (must_remove <= k && n - must_remove >= 1&&must_remove>=0) {
            cout << d << "\n";
//            cout<<must_remove<<endl;
            return;
        }
    }
    cout << 1 << "\n";
}


signed main() {
	cin.tie(0)->sync_with_stdio(0);
	int T=1;
	cin>>T;

	while(T--)solve();

	return 0;
}
