https://codeforces.com/contest/1891/problem/D

分析：
i 位二进制数的范围：[2^(i-1), 2^i - 1]
对于 i 位二进制数，它们的 f(x) 值都等于 i


```c++
#include <bits/stdc++.h>
using namespace std;
#define itn int
#define icn cin
#define int long long
#define endl '\n'
typedef pair<int,int> PII;
const int N=2e5+10;
const int INF=1e18;
const int mod=1e9+7;
#define ll __int128


void solve()
{
	int l,r,ans=0;
	cin>>l>>r;
    for(int i = 2; i <= 60; i++)//f(x)可能值为2~60  
	{
	if((1ll << i) > r) break;
	if((1ll << i + 1) - 1 < l) continue;
  
    // 计算当前分组在[l,r]区间内的实际范围
	int pw = 1, j = 0, cl = max(l, 1ll << i), cr = min((1ll << i + 1) - 1, r);
	while(pw <= cl / i) pw *= i, j++;
	int last = cl;
	while(pw <= cr / i) ans += (pw * i - last) % mod * j, pw *= i, last = pw, j++;
// 计算该分组中数字的个数，乘以位数i，加到答案中
	ans += (cr - last + 1) % mod * j;
	}
	cout<<ans%mod<<endl;
}


signed main() 
{
	cin.tie(0)->sync_with_stdio(0);
	int T=1;
	cin>>T;

	while(T--)solve();

	return 0;
}
```
